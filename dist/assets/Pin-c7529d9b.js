import{_ as g,D as x,r as w,b as l,f as c,g as t,E as k,j as I,v as S,F as p,y as b,S as d,z as v,p as C,m as P}from"./index-6e278184.js";const a=i=>(C("data-v-e574f083"),i=i(),P(),i),T={class:"container-fluid"},B={class:"row mt-3 align-items-center"},D={class:"col-2"},N=a(()=>t("div",{class:"col-8 text-center"},[t("h6",{class:"fw-bold"},"PIN")],-1)),j=a(()=>t("div",{class:"col-2"},null,-1)),O=a(()=>t("div",{class:"row my-4"},[t("div",{class:"col-12 text-center"},[t("h3",null,"Masukkan PIN")])],-1)),$={class:"row justify-content-center my-3"},E={class:"col-6 text-center"},K={class:"row justify-content-center my-3"},F={class:"col-10"},J={class:"row mb-2"},L=["onClick"],M={class:"row mb-2"},V=["onClick"],z={class:"row mb-2"},A=["onClick"],G={class:"row mb-2"},R=a(()=>t("i",{class:"bi bi-x-lg"},null,-1)),U=[R],q={class:"col-4"},H=a(()=>t("i",{class:"bi bi-check-lg"},null,-1)),Q=[H],W={__name:"Pin",setup(i){const u=x(),n=w(""),_=["1","2","3","4","5","6","7","8","9","0"],r=o=>{n.value.length<6&&(n.value+=o)},m=()=>{n.value=n.value.slice(0,-1)},f=o=>{n.value=o.target.value.replace(/\D/g,"").slice(0,6)},y=async()=>{if(n.value==="123456")try{console.log("berhasil pin");const o=JSON.parse(localStorage.getItem("topupData"));if(o){const e=await fetch("https://apibaba.lumirainternational.com/api/topup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_sku_code:o.produk,customer_no:o.nomor,ref_id:"some1d"})}),s=await e.json();e.ok?(d.fire({title:"Berhasil!",text:"Topup berhasil!",icon:"success",confirmButtonText:"OK"}),localStorage.removeItem("topupData"),u.push("/home")):d.fire({title:"Gagal!",text:"Terjadi kesalahan saat melakukan topup.",icon:"error",confirmButtonText:"OK"})}}catch(o){console.error("Error:",o),d.fire({title:"Error!",text:"Terjadi kesalahan saat melakukan topup.",icon:"error",confirmButtonText:"OK"})}else d.fire({title:"PIN Salah!",text:"PIN yang Anda masukkan salah.",icon:"error",confirmButtonText:"OK"})};return(o,e)=>(l(),c("div",T,[t("div",B,[t("div",D,[t("i",{class:"bi bi-arrow-left fs-3 text-dark fw-bold",onClick:e[0]||(e[0]=(...s)=>k(u).back&&k(u).back(...s))})]),N,j]),O,t("div",$,[t("div",E,[I(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s),class:"custom-pin-input",maxlength:"6",onInput:f},null,544),[[S,n.value]])])]),t("div",K,[t("div",F,[t("div",J,[(l(!0),c(p,null,b(_.slice(0,3),s=>(l(),c("div",{class:"col-4",key:s},[t("button",{class:"btn btn-outline-secondary btn-lg btn-block",onClick:h=>r(s)},v(s),9,L)]))),128))]),t("div",M,[(l(!0),c(p,null,b(_.slice(3,6),s=>(l(),c("div",{class:"col-4",key:s},[t("button",{class:"btn btn-outline-secondary btn-lg btn-block",onClick:h=>r(s)},v(s),9,V)]))),128))]),t("div",z,[(l(!0),c(p,null,b(_.slice(6,9),s=>(l(),c("div",{class:"col-4",key:s},[t("button",{class:"btn btn-outline-secondary btn-lg btn-block",onClick:h=>r(s)},v(s),9,A)]))),128))]),t("div",G,[t("div",{class:"col-4"},[t("button",{class:"btn btn-outline-secondary btn-lg btn-block",onClick:m},U)]),t("div",q,[t("button",{class:"btn btn-outline-secondary btn-lg btn-block",onClick:e[2]||(e[2]=s=>r("0"))}," 0 ")]),t("div",{class:"col-4"},[t("button",{class:"btn btn-outline-secondary btn-lg btn-block",onClick:y},Q)])])])])]))}},Y=g(W,[["__scopeId","data-v-e574f083"]]);export{Y as default};
