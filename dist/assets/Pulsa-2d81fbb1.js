import{_ as B,b as s,f as l,g as e,z as p,n as k,D as N,r as i,G as I,o as L,j as x,H as M,F as m,y as b,v as R,l as f,S as $,c as P}from"./index-0e09ec2c.js";/* empty css                                                                  */import{a as T}from"./axios-21b846bc.js";const V={name:"CardPulsa",props:{pulsa:{type:String,required:!0},harga:{type:String,required:!0},margin:{type:String,required:!0},buyerSkuCode:{type:String,required:!0},isSelected:{type:Boolean,default:!1}},methods:{selectCard(){this.$emit("select",this.pulsa,this.harga,this.buyerSkuCode,this.margin)}}},j={class:"card-body"},z={class:"card-title fw-bold"},A={class:"card-text"};function E(g,d,a,_,c,u){return s(),l("div",{class:k(["card bg-white",{"selected-card":a.isSelected}]),onClick:d[0]||(d[0]=(...n)=>u.selectCard&&u.selectCard(...n))},[e("div",j,[e("h5",z,p(a.pulsa),1),e("p",A,"Rp"+p(a.harga),1)])],2)}const F=B(V,[["render",E],["__scopeId","data-v-e82b3469"]]);const U={name:"CardPaket",props:{title:{type:String,required:!0},description:{type:String,required:!0},price:{type:String,required:!0},buyerSkuCode:{type:String,required:!0},isSelected:{type:Boolean,default:!1}},methods:{selectCard(){this.$emit("select",this.title,this.price,this.buyerSkuCode)}}},G={class:"card-body"},K={class:"card-title fw-bold"},Y={class:"card-description"},J={class:"card-text"};function Q(g,d,a,_,c,u){return s(),l("div",{class:k(["card bg-white",{"selected-card":a.isSelected}]),onClick:d[0]||(d[0]=(...n)=>u.selectCard&&u.selectCard(...n))},[e("div",G,[e("h5",K,p(a.title),1),e("p",Y,p(a.description),1),e("p",J,"Rp"+p(a.price),1)])],2)}const W=B(U,[["render",Q],["__scopeId","data-v-ccf68d3c"]]);const X={class:"container-fluid"},Z=e("div",{class:"col-9"},[e("h6",{class:"fw-bold"},"Pulsa & Paket Data")],-1),ee={class:"row mt-3"},te={class:"mb-3"},ae=e("option",{selected:""},"Operator",-1),se=["value"],oe={class:"mb-3"},re=e("label",{for:"noHp",class:"form-label"},"Nomor Handphone",-1),le={class:"row mt-3"},ne={class:"nav nav-tabs"},ce={class:"col-6"},ie={class:"nav-item"},de={class:"col-6"},ue={class:"nav-item"},pe={class:"tab-content"},_e={key:0},ve={class:"p-3"},he={class:"row"},me={key:1},fe={class:"p-3"},ke={class:"row"},Ce={__name:"Pulsa",setup(g){const d=N(),a=i("pulsa"),_=i([]),c=i("Operator"),u=i([]),n=i(null),y=i(null),C=i(null),v=i(""),q=i(""),D=async()=>{try{const o=await T.get("https://apibaba.lumirainternational.com/api/product/pulsa-data",{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});_.value=o.data.data;const r=new Set(o.data.data.map(t=>t.brand.toLowerCase()));u.value=Array.from(r),console.log("response pulsa: ",o.data.data)}catch(o){console.error(o)}},S=I(()=>c.value==="Operator"?_.value:_.value.filter(o=>o.brand.toLowerCase()===c.value.toLowerCase())),O=()=>{d.go(-1)},w=(o,r,t,h)=>{n.value=o,y.value=r,C.value=h,q.value=t},H=()=>{n.value&&v.value&&c.value!=="Operator"?$.fire({title:"Konfirmasi Pembelian",html:`
        <p>Produk yang dipilih: ${n.value}</p>
        <p>Harga: Rp${y.value}</p>
        <p>Operator: ${c.value}</p>
        <p>Nomor tujuan: ${v.value}</p>
      `,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(o=>{o.isConfirmed&&d.push({path:"/bayar-pulsa",query:{produk:n.value,harga:y.value,margin:C.value,operator:c.value,nomor:v.value}})}):$.fire({title:"Error",text:"Silakan pilih produk, operator, dan masukkan nomor tujuan.",icon:"error"})};return L(D),(o,r)=>(s(),l(m,null,[e("div",X,[e("div",{class:"row mt-3"},[e("div",{class:"col-3"},[e("i",{class:"bi bi-arrow-left fs-3 text-black",onClick:O})]),Z]),e("div",ee,[e("div",te,[x(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":r[0]||(r[0]=t=>c.value=t)},[ae,(s(!0),l(m,null,b(u.value,t=>(s(),l("option",{key:t,value:t},p(t),9,se))),128))],512),[[M,c.value]])]),e("div",oe,[re,x(e("input",{type:"number",class:"form-control",id:"noHp","onUpdate:modelValue":r[1]||(r[1]=t=>v.value=t),placeholder:"contoh 08372843743"},null,512),[[R,v.value]])])]),e("div",le,[e("ul",ne,[e("div",ce,[e("li",ie,[e("a",{class:k(["nav-link text-center",{active:a.value==="pulsa"}]),onClick:r[2]||(r[2]=t=>a.value="pulsa"),href:"#"},"Pulsa",2)])]),e("div",de,[e("li",ue,[e("a",{class:k(["nav-link text-center",{active:a.value==="paket"}]),onClick:r[3]||(r[3]=t=>a.value="paket"),href:"#"},"Paket Internet",2)])])])]),e("div",{class:"row fixed-bottom m-3"},[e("button",{class:"btn btn-success",onClick:H},"Beli")])]),e("div",pe,[a.value==="pulsa"?(s(),l("div",_e,[e("div",ve,[e("div",he,[(s(!0),l(m,null,b(S.value,(t,h)=>(s(),l("div",{class:"col-6",key:h},[t.category=="Pulsa"?(s(),P(F,{key:0,pulsa:t.product_name,harga:t.price+t.margin,margin:t.margin,buyerSkuCode:t.buyer_sku_code,isSelected:n.value===t.product_name,onSelect:w},null,8,["pulsa","harga","margin","buyerSkuCode","isSelected"])):f("",!0)]))),128))])])])):f("",!0),a.value==="paket"?(s(),l("div",me,[e("div",fe,[e("div",ke,[(s(!0),l(m,null,b(S.value,(t,h)=>(s(),l("div",{class:"col-6",key:h},[t.category=="Data"?(s(),P(W,{key:0,title:t.product_name,description:t.desc,price:t.price,buyerSkuCode:t.buyer_sku_code,isSelected:n.value===t.product_name,onSelect:w},null,8,["title","description","price","buyerSkuCode","isSelected"])):f("",!0)]))),128))])])])):f("",!0)])],64))}};export{Ce as default};
