import{S as f}from"./Sidebar-7a3bf7fa.js";import{N as g,F as b}from"./Footer-717fb788.js";import{a as i}from"./axios-21b846bc.js";import{r as u,b as r,f as d,i as l,n as y,g as e,l as p,c as k,A as v,E as P,S as w,F as B,y as A,z as n}from"./index-6e278184.js";import{P as _,D as C}from"./jquery.dataTables-a3c69f63.js";import"./logo-42795f0e.js";const S={id:"wrapper"},x={id:"content-wrapper",class:"d-flex flex-column"},D={id:"content"},T={class:"container-fluid mt-4"},F=e("h1",{class:"h3 mb-0 text-gray-800 text-center"},"List Product",-1),N={class:"table-responsive"},L={key:0,class:"preloader"},z=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"No"),e("th",{scope:"col"},"Action"),e("th",{scope:"col"},"Product"),e("th",{scope:"col"},"Category"),e("th",{scope:"col"},"Brand"),e("th",{scope:"col"},"Seller"),e("th",{scope:"col"},"Price"),e("th",{scope:"col"},"Stock"),e("th",{scope:"col"},"Desc")])],-1),V={scope:"row"},q=["onClick"];_.use(C);const E={data(){return{dataProduct:[],user_id:"",ready:!1,remainingTime:"Loading"}},methods:{async fetchDataProduct(){try{const t=await i.get("https://apibaba.lumirainternational.com/api/harga/semua",{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});this.dataProduct=t.data.data,this.ready=!0}catch(t){console.error(t)}},confirmationAdding(t){w.fire({title:"Konfirmasi Penambahan",text:`Apakah Anda yakin ingin menambahkan product ${t.product_name}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#1cc88a",cancelButtonColor:"red",confirmButtonText:"Tambahkan",cancelButtonText:"Batal"}).then(a=>{a.isConfirmed&&this.addingProduct(t)})},addingProduct(t){this.readyHotel=!1;const a=new FormData;a.append("product_name",t.product_name),a.append("category",t.category),a.append("brand",t.brand),a.append("type",t.type),a.append("seller_name",t.seller_name),a.append("price",t.price),a.append("buyer_sku_code",t.buyer_sku_code),a.append("seller_product_status",t.seller_product_status),a.append("unlimited_stock",t.unlimited_stock),a.append("stock",t.stock),a.append("multi",t.multi),a.append("start_cut_off",t.start_cut_off),a.append("end_cut_off",t.end_cut_off),a.append("desc",t.desc),i.post("https://apibaba.lumirainternational.com/api/product/add-product",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+sessionStorage.getItem("token")}}).then(s=>{console.log(s.data),this.showAlert("Request Success","Product berhasil ditambahkan","success")}).catch(s=>{this.showAlert("Request Failed","Product gagal ditambahkan","error"),console.error(s),this.ready=!0})},showAlert(t,a,s){this.$swal({title:t,text:a,icon:s}).then(()=>{$("#updateHotel").modal("hide")})}},created(){this.fetchDataProduct()}},M=Object.assign(E,{__name:"ListProduct",setup(t){const a=u(!1),s=u(""),h=()=>{a.value=!a.value,s.value=a.value?"toggle-sidebar":""};return(c,H)=>(r(),d("div",S,[l(f,{class:y(s.value)},null,8,["class"]),e("div",x,[e("div",D,[l(g,{onToggleSidebar:h}),e("div",T,[F,e("div",N,[c.ready?p("",!0):(r(),d("div",L)),c.ready?(r(),k(P(_),{key:1,class:"display table table-striped"},{default:v(()=>[z,e("tbody",null,[(r(!0),d(B,null,A(c.dataProduct,(o,m)=>(r(),d("tr",{key:o.id},[e("th",V,n(m+1),1),e("td",null,[e("button",{class:"btn btn-success",onClick:I=>c.confirmationAdding(o)}," Add ",8,q)]),e("td",null,n(o.product_name),1),e("td",null,n(o.category),1),e("td",null,n(o.brand),1),e("td",null,n(o.seller_name),1),e("td",null,n(o.price),1),e("td",null,n(o.stock),1),e("td",null,n(o.desc),1)]))),128))])]),_:1})):p("",!0)])])]),l(b)])]))}});export{M as default};
