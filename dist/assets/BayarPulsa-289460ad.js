import{_ as S,I,D as C,r as i,b as l,f as d,g as s,z as u,E as _,x as q,j as A,v as D,l as p,c as V,F as R,p as N,m as T,S as h}from"./index-6e278184.js";/* empty css                                                                  */import{P as F}from"./PinComponent-3896eee8.js";import{a as M}from"./axios-21b846bc.js";const a=r=>(N("data-v-cc622e6f"),r=r(),T(),r),$={key:0,class:"container-fluid"},j=a(()=>s("div",{class:"col-9"},[s("h6",{class:"fw-bold"},"Bayar Pulsa Data")],-1)),z={class:"row mt-3"},E=a(()=>s("div",{class:"col-6"},[s("span",null,"Operator")],-1)),O={class:"col-6"},H={class:"float-end"},U={class:"row mt-3"},G=a(()=>s("div",{class:"col-6"},[s("span",null,"No HP")],-1)),J={class:"col-6"},K={class:"float-end"},L={class:"row mt-3"},Q=a(()=>s("div",{class:"col-6"},[s("span",null,"Pulsa")],-1)),W={class:"col-6"},X={class:"float-end"},Y=a(()=>s("div",{class:"row mt-3"},[s("div",{class:"col-6"},[s("span",null,"Voucer")]),s("div",{class:"col-6"},[s("span",{class:"float-end"},"Rp. 0")])],-1)),Z={class:"row mt-3"},ss=a(()=>s("div",{class:"col-6"},[s("span",null,"Total")],-1)),as={class:"col-6"},os={class:"float-end"},ts=a(()=>s("hr",null,null,-1)),es={key:0},ns=a(()=>s("span",null,"Anda berhak membantu program sosial BABA",-1)),ls=a(()=>s("br",null,null,-1)),rs=a(()=>s("i",{class:"bi bi-arrow-right"},null,-1)),cs=a(()=>s("span",null,"Atau",-1)),is=a(()=>s("br",null,null,-1)),ds=a(()=>s("span",null,"Masukkan kode program sosial yang anda tahu",-1)),us={class:"row"},_s={key:1,class:"card p-3 shadow-sm mt-3",style:{"border-radius":"10px"}},ps=a(()=>s("div",{class:"d-flex align-items-center"},[s("div",{class:"me-3"},[s("i",{class:"bi bi-patch-check fs-3 text-success"})]),s("div",null,[s("h5",{class:"fw-bold"},"Anda sudah memilih program sosial")])],-1)),ms=[ps],hs={class:"row-2"},fs={data(){return{showPinInput:!1,programSosialSelected:!1}}},vs=Object.assign(fs,{__name:"BayarPulsa",setup(r){const t=I(),y=C(),e=i(t.query.programId||""),w=t.query.produk,c=t.query.harga,f=t.query.margin,v=t.query.operator,k=t.query.nomor,g=i(""),m=i(!1);i(!1);const P=()=>{window.history.back()},x=()=>{y.push({path:"/program-sosial",query:{produk:w,harga:c,margin:f,operator:v,nomor:k,...e.value&&{programId:e.value}}})},B=async()=>{try{const o=new FormData;o.append("buyer_sku_code","pulsa"),o.append("customer_no","530000000001"),o.append("ref_id","some1d"),o.append("harga",c),o.append("margin",f),e.value&&o.append("program_id",e.value),(await M.post("https://apibaba.lumirainternational.com/api/digi/bayar-tagihan",o,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}})).data.message=="success"?h.fire({icon:"success",title:"Pembayaran berhasil",text:"Anda akan diarahkan ke halaman utama.",timer:2e3,showConfirmButton:!1}).then(()=>{window.location.href="/home"}):h.fire({icon:"error",title:"Pembayaran gagal",text:"Saldo anda tidak mencukupi untuk melakukan pembayaran!!",timer:2e3,showConfirmButton:!1}).then(()=>{window.location.href="/home"})}catch(o){console.error(o),h.fire({icon:"error",title:"Pembayaran gagal",text:"Saldo anda tidak mencukupi untuk melakukan pembayaran!!",timer:2e3,showConfirmButton:!1}).then(()=>{window.location.href="/home"})}};return(o,n)=>(l(),d(R,null,[m.value?p("",!0):(l(),d("div",$,[s("div",{class:"row mt-3"},[s("div",{class:"col-3"},[s("i",{class:"bi bi-arrow-left fs-3 text-black",onClick:P})]),j]),s("div",z,[E,s("div",O,[s("span",H,u(_(v)),1)])]),s("div",U,[G,s("div",J,[s("span",K,u(_(k)),1)])]),s("div",L,[Q,s("div",W,[s("span",X,"Rp. "+u(_(c)),1)])]),Y,s("div",Z,[ss,s("div",as,[s("span",os,"Rp. "+u(_(c)),1)])]),ts,e.value?p("",!0):(l(),d("div",es,[ns,ls,s("div",{class:"row"},[s("button",{class:"col-12 text-dark btn btn-outline-primary",onClick:x},[q(" Pilih Program Sosial "),rs])]),cs,is,ds,s("div",us,[A(s("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=b=>g.value=b),placeholder:"Masukkan kode program"},null,512),[[D,g.value]])])])),e.value?(l(),d("div",_s,ms)):p("",!0),s("div",hs,[s("button",{class:"btn btn-success fixed-bottom m-2",onClick:n[1]||(n[1]=b=>m.value=!0)}," Beli ")])])),m.value?(l(),V(F,{key:1,onValidPin:B})):p("",!0)],64))}}),ws=S(vs,[["__scopeId","data-v-cc622e6f"]]);export{ws as default};
